<!DOCTYPE html>
<html>
<head>
<title>Create New Location</title>
<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
<script src="/javascripts/form2js.js" type="text/javascript"></script>
</head>
<body>
	<p>Enter location details:</p>
	<form action='/events/location/' id="createForm">
		<table border="0">
			<tr>
				<td>Location Name:</td>
				<td><input type="text" name="name" /></td>
			</tr>
			<tr>
				<td>Location Latitude:</td>
				<td><input type="text" name="latitude" /></td>
			</tr>
			<tr>
				<td>Location Longitude:</td>
				<td><input type="text" name="longitude" /></td>
			</tr>
			<tr>
				<td>Location radius</td>
				<td><input type="text" name="radius" /></td>
			</tr>
			<tr>
				<td colspan="2" align="center"><input type="submit" value="Submit" /></td>
			</tr>
		</table>
	</form>
	
<script>
  /* attach a submit handler to the form */
  $("#createForm").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault(); 

	var formData = form2js('createForm', '.', true);
	console.log(formData);
    /* Send the data using ajax post and put the results in a div */
	$.ajax({
		type: "POST",
		url: '/location/',
		dataType: 'json',
		data: formData,
		success: function(){
			alert('Sent!');
		},
		error: function(){
			alert('Error');
		}
	});
    
    
  });
</script>


</body>
</html>